nginx::worker_processes: '24'
nginx::worker_connections: '1024'
nginx::http_cfg_prepend:
  log_format:
  |
    custom '[$time_local] $remote_addr "$http_x_forwarded_for" $http_host '
           '"$request" $status $body_bytes_sent '
           '"$http_referer" "$http_user_agent" "$upstream_addr" "$upstream_http_x_s_v" "$upstream_http_x_m_v"'
nginx::http_access_log: '/var/log/nginx/access.log custom'
nginx::server_tokens: 'off'
nginx::proxy_buffer_size: '128k'
nginx::proxy_buffers: '4 256k'
nginx::proxy_read_timeout: '65s'
nginx::proxy_redirect: 'off'
nginx::client_max_body_size: '4M'
nginx::gzip: 'on'
nginx::names_hash_bucket_size: '128'
nginx::names_hash_max_size: '2048'
nginx::http_cfg_append:
  proxy_busy_buffers_size: '256k'
  gzip_http_version: '1.0'
  gzip_comp_level: '2'
  gzip_proxied: 'any'
  gzip_min_length: '1100'
  gzip_buffers: '16 8k'
  gzip_types: 'text/plain text/html text/css application/x-javascript text/xml application/xml application/xml+rss text/javascript'
  gzip_vary: 'on'
  ssl_ciphers: 'RC4:HIGH:!aNULL:!MD5'
  ssl_protocols: 'SSLv3 TLSv1 TLSv1.1 TLSv1.2'
  ssl_prefer_server_ciphers: 'on'
  ssl_session_cache: 'shared:SSL:10m'
  ssl_session_timeout: '10m'
  proxy_max_temp_file_size: '0'
